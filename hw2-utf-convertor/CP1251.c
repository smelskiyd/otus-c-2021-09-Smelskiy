//
// Created by Danya Smelskiy on 07.11.2021.
//

#include "CP1251.h"

// Last 128 codes of CP1251 in Unicode
int CP1251toUnicode[128] = {
        0x402,   0x403,  0x201A,   0x453,  0x201E, 0x2026, 0x2020, 0x2021,
        0x20AC,  0x2030,   0x409,  0x2039,   0x40A,  0x40C,  0x40B,  0x40F,
        0x452,  0x2018,  0x2019,  0x201C,  0x201D, 0x2022, 0x2013, 0x2014,
        0x0,  0x2122,   0x459,  0x203A,   0x45A,  0x45C,  0x45B,  0x45F,
        0xA0,   0x40E,   0x45E,   0x408,    0xA4,  0x490,   0xA6,   0xA7,
        0x401,    0xA9,   0x404,    0xAB,    0xAC,   0xAD,   0xAE,  0x407,
        0xB0,    0xB1,   0x406,   0x456,   0x491,   0xB5,   0xB6,   0xB7,
        0x451,  0x2116,   0x454,    0xBB,   0x458,  0x405,  0x455,  0x457};

void InitCP1251Encoding() {
    for (int i = 64, last_c = 0x410; i < 128; ++i, ++last_c) {
        CP1251toUnicode[i] = last_c;
    }
}

int ConvertCP1251ToUnicode(int c) {
    if (c < 128) {
        return c;
    }
    return CP1251toUnicode[c - 128];
}